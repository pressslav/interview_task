[2025-06-14T22:42:30.488+0100] {local_task_job_runner.py:120} INFO - ::group::Pre task execution logs
[2025-06-14T22:42:30.494+0100] {taskinstance.py:2076} INFO - Dependencies all met for dep_context=non-requeueable deps ti=<TaskInstance: customer_churn_training_dag.run_mlflow_server manual__2025-06-14T21:39:36.197678+00:00 [queued]>
[2025-06-14T22:42:30.497+0100] {taskinstance.py:2076} INFO - Dependencies all met for dep_context=requeueable deps ti=<TaskInstance: customer_churn_training_dag.run_mlflow_server manual__2025-06-14T21:39:36.197678+00:00 [queued]>
[2025-06-14T22:42:30.497+0100] {taskinstance.py:2306} INFO - Starting attempt 1 of 1
[2025-06-14T22:42:30.503+0100] {taskinstance.py:2330} INFO - Executing <Task(BashOperator): run_mlflow_server> on 2025-06-14 21:39:36.197678+00:00
[2025-06-14T22:42:30.506+0100] {standard_task_runner.py:64} INFO - Started process 157070 to run task
[2025-06-14T22:42:30.507+0100] {standard_task_runner.py:90} INFO - Running: ['airflow', 'tasks', 'run', 'customer_churn_training_dag', 'run_mlflow_server', 'manual__2025-06-14T21:39:36.197678+00:00', '--job-id', '88', '--raw', '--subdir', 'DAGS_FOLDER/dag.py', '--cfg-path', '/tmp/tmprl2w484s']
[2025-06-14T22:42:30.508+0100] {standard_task_runner.py:91} INFO - Job 88: Subtask run_mlflow_server
[2025-06-14T22:42:30.525+0100] {task_command.py:426} INFO - Running <TaskInstance: customer_churn_training_dag.run_mlflow_server manual__2025-06-14T21:39:36.197678+00:00 [running]> on host neonm.
[2025-06-14T22:42:30.556+0100] {taskinstance.py:2648} INFO - Exporting env vars: AIRFLOW_CTX_DAG_OWNER='airflow' AIRFLOW_CTX_DAG_ID='customer_churn_training_dag' AIRFLOW_CTX_TASK_ID='run_mlflow_server' AIRFLOW_CTX_EXECUTION_DATE='2025-06-14T21:39:36.197678+00:00' AIRFLOW_CTX_TRY_NUMBER='1' AIRFLOW_CTX_DAG_RUN_ID='manual__2025-06-14T21:39:36.197678+00:00'
[2025-06-14T22:42:30.557+0100] {taskinstance.py:430} INFO - ::endgroup::
[2025-06-14T22:42:30.557+0100] {subprocess.py:63} INFO - Tmp dir root location: /tmp
[2025-06-14T22:42:30.557+0100] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'mlflow server --backend-store-uri sqlite:///mlflow.db --host 127.0.0.1 --port 5000']
[2025-06-14T22:42:30.561+0100] {subprocess.py:86} INFO - Output:
[2025-06-14T22:42:31.318+0100] {subprocess.py:93} INFO - 2025/06/14 22:42:31 INFO mlflow.store.db.utils: Creating initial MLflow database tables...
[2025-06-14T22:42:31.339+0100] {subprocess.py:93} INFO - 2025/06/14 22:42:31 INFO mlflow.store.db.utils: Updating database tables
[2025-06-14T22:42:31.340+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
[2025-06-14T22:42:31.341+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
[2025-06-14T22:42:31.353+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade  -> 451aebb31d03, add metric step
[2025-06-14T22:42:31.365+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 451aebb31d03 -> 90e64c465722, migrate user column to tags
[2025-06-14T22:42:31.370+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 90e64c465722 -> 181f10493468, allow nulls for metric values
[2025-06-14T22:42:31.380+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 181f10493468 -> df50e92ffc5e, Add Experiment Tags Table
[2025-06-14T22:42:31.384+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade df50e92ffc5e -> 7ac759974ad8, Update run tags with larger limit
[2025-06-14T22:42:31.394+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 7ac759974ad8 -> 89d4b8295536, create latest metrics table
[2025-06-14T22:42:31.438+0100] {subprocess.py:93} INFO - INFO  [89d4b8295536_create_latest_metrics_table_py] Migration complete!
[2025-06-14T22:42:31.441+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 89d4b8295536 -> 2b4d017a5e9b, add model registry tables to db
[2025-06-14T22:42:31.441+0100] {subprocess.py:93} INFO - INFO  [2b4d017a5e9b_add_model_registry_tables_to_db_py] Adding registered_models and model_versions tables to database.
[2025-06-14T22:42:31.448+0100] {subprocess.py:93} INFO - INFO  [2b4d017a5e9b_add_model_registry_tables_to_db_py] Migration complete!
[2025-06-14T22:42:31.450+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 2b4d017a5e9b -> cfd24bdc0731, Update run status constraint with killed
[2025-06-14T22:42:31.460+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade cfd24bdc0731 -> 0a8213491aaa, drop_duplicate_killed_constraint
[2025-06-14T22:42:31.463+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 0a8213491aaa -> 728d730b5ebd, add registered model tags table
[2025-06-14T22:42:31.468+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 728d730b5ebd -> 27a6a02d2cf1, add model version tags table
[2025-06-14T22:42:31.473+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 27a6a02d2cf1 -> 84291f40a231, add run_link to model_version
[2025-06-14T22:42:31.477+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 84291f40a231 -> a8c4a736bde6, allow nulls for run_id
[2025-06-14T22:42:31.486+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade a8c4a736bde6 -> 39d1c3be5f05, add_is_nan_constraint_for_metrics_tables_if_necessary
[2025-06-14T22:42:31.499+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 39d1c3be5f05 -> c48cb773bb87, reset_default_value_for_is_nan_in_metrics_table_for_mysql
[2025-06-14T22:42:31.501+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade c48cb773bb87 -> bd07f7e963c5, create index on run_uuid
[2025-06-14T22:42:31.516+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade bd07f7e963c5 -> 0c779009ac13, add deleted_time field to runs table
[2025-06-14T22:42:31.521+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 0c779009ac13 -> cc1f77228345, change param value length to 500
[2025-06-14T22:42:31.534+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade cc1f77228345 -> 97727af70f4d, Add creation_time and last_update_time to experiments table
[2025-06-14T22:42:31.542+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 97727af70f4d -> 3500859a5d39, Add Model Aliases table
[2025-06-14T22:42:31.547+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 3500859a5d39 -> 7f2a7d5fae7d, add datasets inputs input_tags tables
[2025-06-14T22:42:31.567+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 7f2a7d5fae7d -> 2d6e25af4d3e, increase max param val length from 500 to 8000
[2025-06-14T22:42:31.577+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 2d6e25af4d3e -> acf3f17fdcc7, add storage location field to model versions
[2025-06-14T22:42:31.582+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade acf3f17fdcc7 -> 867495a8f9d4, add trace tables
[2025-06-14T22:42:31.601+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 867495a8f9d4 -> 5b0e9adcef9c, add cascade deletion to trace tables foreign keys
[2025-06-14T22:42:31.613+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 5b0e9adcef9c -> 4465047574b1, increase max dataset schema size
[2025-06-14T22:42:31.616+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 4465047574b1 -> f5a4f2784254, increase run tag value limit to 8000
[2025-06-14T22:42:31.624+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade f5a4f2784254 -> 0584bdc529eb, add cascading deletion to datasets from experiments
[2025-06-14T22:42:31.633+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 0584bdc529eb -> 400f98739977, add logged model tables
[2025-06-14T22:42:31.653+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Running upgrade 400f98739977 -> 6953534de441, add step to inputs table
[2025-06-14T22:42:31.664+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
[2025-06-14T22:42:31.664+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
[2025-06-14T22:42:31.676+0100] {subprocess.py:93} INFO - 2025/06/14 22:42:31 INFO mlflow.store.db.utils: Creating initial MLflow database tables...
[2025-06-14T22:42:31.677+0100] {subprocess.py:93} INFO - 2025/06/14 22:42:31 INFO mlflow.store.db.utils: Updating database tables
[2025-06-14T22:42:31.678+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
[2025-06-14T22:42:31.678+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
[2025-06-14T22:42:31.732+0100] {subprocess.py:93} INFO - [2025-06-14 22:42:31 +0100] [157122] [INFO] Starting gunicorn 21.2.0
[2025-06-14T22:42:31.732+0100] {subprocess.py:93} INFO - [2025-06-14 22:42:31 +0100] [157122] [INFO] Listening at: http://127.0.0.1:5000 (157122)
[2025-06-14T22:42:31.732+0100] {subprocess.py:93} INFO - [2025-06-14 22:42:31 +0100] [157122] [INFO] Using worker: sync
[2025-06-14T22:42:31.733+0100] {subprocess.py:93} INFO - [2025-06-14 22:42:31 +0100] [157123] [INFO] Booting worker with pid: 157123
[2025-06-14T22:42:31.805+0100] {subprocess.py:93} INFO - [2025-06-14 22:42:31 +0100] [157124] [INFO] Booting worker with pid: 157124
[2025-06-14T22:42:31.891+0100] {subprocess.py:93} INFO - [2025-06-14 22:42:31 +0100] [157129] [INFO] Booting worker with pid: 157129
[2025-06-14T22:42:31.961+0100] {subprocess.py:93} INFO - [2025-06-14 22:42:31 +0100] [157150] [INFO] Booting worker with pid: 157150
[2025-06-14T22:42:58.990+0100] {subprocess.py:93} INFO - 2025/06/14 22:42:58 INFO mlflow.store.db.utils: Creating initial MLflow database tables...
[2025-06-14T22:42:58.991+0100] {subprocess.py:93} INFO - 2025/06/14 22:42:58 INFO mlflow.store.db.utils: Updating database tables
[2025-06-14T22:42:58.993+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
[2025-06-14T22:42:58.993+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
[2025-06-14T22:42:59.009+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
[2025-06-14T22:42:59.010+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
[2025-06-14T22:43:29.331+0100] {subprocess.py:93} INFO - [2025-06-14 22:43:29 +0100] [157122] [CRITICAL] WORKER TIMEOUT (pid:157150)
[2025-06-14T22:43:29.332+0100] {subprocess.py:93} INFO - [2025-06-14 22:43:29 +0100] [157150] [INFO] Worker exiting (pid: 157150)
[2025-06-14T22:43:29.409+0100] {subprocess.py:93} INFO - [2025-06-14 22:43:29 +0100] [157122] [ERROR] Worker (pid:157150) exited with code 1
[2025-06-14T22:43:29.409+0100] {subprocess.py:93} INFO - [2025-06-14 22:43:29 +0100] [157122] [ERROR] Worker (pid:157150) exited with code 1.
[2025-06-14T22:43:29.410+0100] {subprocess.py:93} INFO - [2025-06-14 22:43:29 +0100] [158343] [INFO] Booting worker with pid: 158343
[2025-06-14T22:43:30.066+0100] {subprocess.py:93} INFO - 2025/06/14 22:43:30 INFO mlflow.store.db.utils: Creating initial MLflow database tables...
[2025-06-14T22:43:30.066+0100] {subprocess.py:93} INFO - 2025/06/14 22:43:30 INFO mlflow.store.db.utils: Updating database tables
[2025-06-14T22:43:30.068+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
[2025-06-14T22:43:30.068+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
[2025-06-14T22:43:30.083+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
[2025-06-14T22:43:30.084+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
[2025-06-14T22:44:00.128+0100] {subprocess.py:93} INFO - [2025-06-14 22:44:00 +0100] [157122] [CRITICAL] WORKER TIMEOUT (pid:157123)
[2025-06-14T22:44:00.129+0100] {subprocess.py:93} INFO - [2025-06-14 22:44:00 +0100] [157123] [INFO] Worker exiting (pid: 157123)
[2025-06-14T22:44:00.261+0100] {subprocess.py:93} INFO - [2025-06-14 22:44:00 +0100] [157122] [ERROR] Worker (pid:157123) exited with code 1
[2025-06-14T22:44:00.261+0100] {subprocess.py:93} INFO - [2025-06-14 22:44:00 +0100] [157122] [ERROR] Worker (pid:157123) exited with code 1.
[2025-06-14T22:44:00.262+0100] {subprocess.py:93} INFO - [2025-06-14 22:44:00 +0100] [159026] [INFO] Booting worker with pid: 159026
[2025-06-14T22:44:01.067+0100] {subprocess.py:93} INFO - 2025/06/14 22:44:01 INFO mlflow.store.db.utils: Creating initial MLflow database tables...
[2025-06-14T22:44:01.068+0100] {subprocess.py:93} INFO - 2025/06/14 22:44:01 INFO mlflow.store.db.utils: Updating database tables
[2025-06-14T22:44:01.069+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
[2025-06-14T22:44:01.069+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
[2025-06-14T22:44:01.084+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
[2025-06-14T22:44:01.084+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
[2025-06-14T22:44:31.824+0100] {subprocess.py:93} INFO - 2025/06/14 22:44:31 INFO mlflow.store.db.utils: Creating initial MLflow database tables...
[2025-06-14T22:44:31.825+0100] {subprocess.py:93} INFO - 2025/06/14 22:44:31 INFO mlflow.store.db.utils: Updating database tables
[2025-06-14T22:44:31.827+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
[2025-06-14T22:44:31.827+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
[2025-06-14T22:44:31.843+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
[2025-06-14T22:44:31.844+0100] {subprocess.py:93} INFO - INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
[2025-06-14T22:45:57.843+0100] {local_task_job_runner.py:222} INFO - ::endgroup::
[2025-06-14T22:45:57.845+0100] {process_utils.py:132} INFO - Sending Signals.SIGTERM to group 157070. PIDs of all processes in the group: [157072, 157122, 157124, 157129, 158343, 159026, 157070]
[2025-06-14T22:45:57.845+0100] {process_utils.py:87} INFO - Sending the signal Signals.SIGTERM to group 157070
[2025-06-14T22:45:57.846+0100] {taskinstance.py:2611} ERROR - Received SIGTERM. Terminating subprocesses.
[2025-06-14T22:45:57.846+0100] {subprocess.py:104} INFO - Sending SIGTERM signal to process group
[2025-06-14T22:45:57.847+0100] {taskinstance.py:441} INFO - ::group::Post task execution logs
[2025-06-14T22:45:57.859+0100] {taskinstance.py:2905} ERROR - Task failed with exception
Traceback (most recent call last):
  File "/home/press/miniconda3/envs/acronis/lib/python3.9/site-packages/airflow/models/taskinstance.py", line 465, in _execute_task
    result = _execute_callable(context=context, **execute_callable_kwargs)
  File "/home/press/miniconda3/envs/acronis/lib/python3.9/site-packages/airflow/models/taskinstance.py", line 432, in _execute_callable
    return execute_callable(context=context, **execute_callable_kwargs)
  File "/home/press/miniconda3/envs/acronis/lib/python3.9/site-packages/airflow/models/baseoperator.py", line 401, in wrapper
    return func(self, *args, **kwargs)
  File "/home/press/miniconda3/envs/acronis/lib/python3.9/site-packages/airflow/operators/bash.py", line 234, in execute
    result = self.subprocess_hook.run_command(
  File "/home/press/miniconda3/envs/acronis/lib/python3.9/site-packages/airflow/hooks/subprocess.py", line 91, in run_command
    for raw_line in iter(self.sub_process.stdout.readline, b""):
  File "/home/press/miniconda3/envs/acronis/lib/python3.9/site-packages/airflow/models/taskinstance.py", line 2613, in signal_handler
    raise AirflowTaskTerminated("Task received SIGTERM signal")
airflow.exceptions.AirflowTaskTerminated: Task received SIGTERM signal
[2025-06-14T22:45:57.861+0100] {taskinstance.py:1206} INFO - Marking task as FAILED. dag_id=customer_churn_training_dag, task_id=run_mlflow_server, run_id=manual__2025-06-14T21:39:36.197678+00:00, execution_date=20250614T213936, start_date=20250614T214230, end_date=20250614T214557
[2025-06-14T22:45:57.897+0100] {process_utils.py:80} INFO - Process psutil.Process(pid=157072, status='terminated', started='22:42:29') (157072) terminated with exit code None
[2025-06-14T22:45:58.070+0100] {process_utils.py:80} INFO - Process psutil.Process(pid=159026, status='terminated', started='22:43:57') (159026) terminated with exit code None
[2025-06-14T22:45:58.123+0100] {process_utils.py:80} INFO - Process psutil.Process(pid=158343, status='terminated', started='22:43:27') (158343) terminated with exit code None
[2025-06-14T22:45:58.123+0100] {process_utils.py:80} INFO - Process psutil.Process(pid=157129, status='terminated', started='22:42:31') (157129) terminated with exit code None
[2025-06-14T22:45:58.175+0100] {process_utils.py:80} INFO - Process psutil.Process(pid=157122, status='terminated', started='22:42:30') (157122) terminated with exit code None
[2025-06-14T22:45:58.175+0100] {process_utils.py:80} INFO - Process psutil.Process(pid=157070, status='terminated', exitcode=2, started='22:42:29') (157070) terminated with exit code 2
[2025-06-14T22:45:58.176+0100] {process_utils.py:80} INFO - Process psutil.Process(pid=157124, status='terminated', started='22:42:31') (157124) terminated with exit code None
